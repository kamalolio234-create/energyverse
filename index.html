<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EnergyVerse Pro - Web3 Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/dist/css/all.min.css">
    <style>
        :root { --gold: #FFD700; --neon: #39FF14; --dark: #050505; --card: rgba(255, 255, 255, 0.05); }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; overflow: hidden; direction: rtl; }
        
        /* Navigation */
        .nav { position: fixed; bottom: 0; width: 100%; background: rgba(10,10,10,0.95); display: flex; border-top: 1px solid #222; padding: 10px 0; z-index: 1000; backdrop-filter: blur(10px); }
        .nav-btn { flex: 1; color: #666; font-size: 10px; text-align: center; cursor: pointer; transition: 0.3s; }
        .nav-btn.active { color: var(--gold); transform: translateY(-3px); }
        .nav-btn i { font-size: 22px; display: block; margin-bottom: 4px; }

        /* Pages System */
        .page { display: none; padding: 20px; height: 90vh; overflow-y: auto; padding-bottom: 100px; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Header & Dashboard */
        .header { text-align: center; margin-bottom: 25px; background: linear-gradient(180deg, rgba(255,215,0,0.05) 0%, transparent 100%); padding: 20px; border-radius: 0 0 30px 30px; }
        .balance { font-size: 42px; font-weight: 900; color: var(--gold); text-shadow: 0 0 20px rgba(255,215,0,0.3); }
        .lvl-badge { background: #1a1a1a; border: 1px solid var(--gold); padding: 4px 15px; border-radius: 50px; font-size: 12px; color: var(--gold); letter-spacing: 1px; }
        
        /* Battery & Stats */
        .stat-card { background: var(--card); padding: 15px; border-radius: 15px; border: 1px solid #222; display: flex; justify-content: space-around; margin: 15px 0; }
        .stat-item { text-align: center; }
        .stat-val { display: block; font-weight: bold; color: var(--gold); font-size: 18px; }
        .stat-lbl { font-size: 11px; opacity: 0.6; }

        .battery-container { position: relative; width: 100px; height: 180px; border: 4px solid #333; margin: 30px auto; border-radius: 15px; padding: 5px; display: flex; align-items: flex-end; }
        .battery-fill { width: 100%; border-radius: 8px; background: linear-gradient(to top, #008000, var(--neon)); box-shadow: 0 0 20px var(--neon); transition: height 1s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        /* Robot Cards */
        .robot-card { background: var(--card); border-radius: 20px; border: 1px solid #333; padding: 20px; margin-bottom: 20px; text-align: right; position: relative; overflow: hidden; }
        .robot-card::before { content: ''; position: absolute; top: 0; left: 0; width: 5px; height: 100%; background: var(--gold); }
        .robot-name { font-size: 20px; font-weight: bold; color: var(--gold); margin: 0; }
        .robot-desc { font-size: 12px; color: #aaa; margin: 10px 0; line-height: 1.5; }
        .robot-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .meta-box { background: rgba(0,0,0,0.3); padding: 8px; border-radius: 10px; font-size: 12px; border: 1px solid #222; }
        .buy-btn { width: 100%; background: var(--gold); color: black; border: none; padding: 12px; border-radius: 12px; font-weight: bold; margin-top: 15px; cursor: pointer; }

        /* Leaderboard Table */
        .rank-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .rank-table tr { background: rgba(255,255,255,0.02); border-bottom: 1px solid #222; }
        .rank-table td { padding: 15px 10px; font-size: 14px; }
        .rank-num { font-weight: 900; color: var(--gold); width: 40px; }

        /* Common Styles */
        .section-title { color: var(--gold); text-align: center; border-bottom: 2px solid var(--gold); display: inline-block; padding-bottom: 5px; margin-bottom: 20px; width: 100%; }
        details { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 10px; cursor: pointer; border: 1px solid #222; }
        summary { font-weight: bold; color: var(--gold); }
        .social-link { display: flex; align-items: center; background: var(--card); padding: 18px; margin-bottom: 12px; border-radius: 15px; text-decoration: none; color: white; border: 1px solid #333; }
        .social-link i { font-size: 24px; margin-left: 15px; width: 30px; text-align: center; }
    </style>
</head>
<body>

    <audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-37a.mp3"></audio>

    <div id="p-dash" class="page active">
        <div class="header">
            <div class="balance">$<span id="v-bal">0.00</span></div>
            <div id="v-lvl" class="lvl-badge">LEVEL: ...</div>
        </div>

        <div class="battery-container">
            <div id="v-fill" class="battery-fill" style="height: 0%"></div>
        </div>
        <div style="text-align: center; font-size: 24px; font-weight: bold;"><span id="v-perc">0</span>%</div>

        <div class="stat-card">
            <div class="stat-item"><span class="stat-val" id="v-prd">0</span><span class="stat-lbl">Ø¥Ù†ØªØ§Ø¬/Ø³Ø§Ø¹Ø©</span></div>
            <div class="stat-item"><span class="stat-val" id="v-rob">0</span><span class="stat-lbl">Ø±ÙˆØ¨ÙˆØªØ§Øª</span></div>
            <div class="stat-item"><span class="stat-val" id="v-mx">0</span><span class="stat-lbl">Ø§Ù„Ø³Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰</span></div>
        </div>

        <button class="buy-btn" style="height: 60px; font-size: 20px;" onclick="collectAction()">Ø¬Ù…Ø¹ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© âš¡</button>
    </div>

    <div id="p-robots" class="page">
        <h2 class="section-title">Ù…ØªØ¬Ø± Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª ğŸ¤–</h2>
        <div id="robots-list"></div>
    </div>

    <div id="p-lead" class="page">
        <h2 class="section-title">Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† ğŸ†</h2>
        <div style="display: flex; gap: 5px; margin-bottom: 20px;">
            <button class="buy-btn" style="margin:0; flex:1;" onclick="renderLead('global')">Ø§Ù„Ø¹Ø§Ù„Ù…</button>
            <button class="buy-btn" style="margin:0; flex:1; background:#222; color:white;" onclick="renderLead('israel')">Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ ğŸ‡®ğŸ‡±</button>
        </div>
        <table class="rank-table"><tbody id="lead-body"></tbody></table>
    </div>

    <div id="p-info" class="page">
        <h2 class="section-title">Ø¹Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© â„¹ï¸</h2>
        <p style="font-size: 14px; line-height: 1.6; opacity: 0.8;">ØªØ¹Ø¯ EnergyVerse Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø£Ù„Ø¹Ø§Ø¨ Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù€ Web3ØŒ ØªØ£Ø³Ø³Øª ÙÙŠ 2025 Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ù„Ø£Ø±Ø¨Ø§Ø­ Ø­Ù‚ÙŠÙ‚ÙŠØ©. Ø±Ø¤ÙŠØªÙ†Ø§ Ù‡ÙŠ Ø®Ù„Ù‚ Ù…Ø¬ØªÙ…Ø¹ Ù…Ø§Ù„ÙŠ Ù‚ÙˆÙŠ ÙˆÙ…Ø±Ø­.</p>
        
        <h2 class="section-title">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© â“</h2>
        <details><summary>ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ†ØŸ</summary><p>Ø¨Ù…Ø¬Ø±Ø¯ Ø§Ù…ØªÙ„Ø§ÙƒÙƒ Ù„Ø±ÙˆØ¨ÙˆØªØŒ Ø³ÙŠØ¨Ø¯Ø£ Ø¨Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© Ø­ØªÙ‰ ÙŠÙ…ØªÙ„Ø¦ Ø§Ù„Ù…Ø®Ø²Ù†.</p></details>
        <details><summary>Ù‡Ù„ Ø£Ø­ØªØ§Ø¬ Ù„Ù„Ø¨Ù‚Ø§Ø¡ Ù…ØªØµÙ„Ø§Ù‹ØŸ</summary><p>Ù„Ø§ØŒ Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª ØªØ¹Ù…Ù„ ÙÙŠ "Ø§Ù„Ø³Ø­Ø§Ø¨Ø©" Ø­ØªÙ‰ ÙˆØ£Ù†Øª Ù†Ø§Ø¦Ù…!</p></details>
        <details><summary>ÙƒÙŠÙ ØªØ¹Ù…Ù„ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§ØªØŸ</summary><p>Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 15$ ÙÙˆØ±ÙŠØ© ÙˆÙ…ÙƒØ§ÙØ£Ø© Ù…Ù† Ø¥Ù†ØªØ§Ø¬ ÙƒÙ„ ØµØ¯ÙŠÙ‚ ØªØ¯Ø¹ÙˆÙ‡.</p></details>
    </div>

    <div id="p-social" class="page">
        <h2 class="section-title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ğŸŒ</h2>
        <a href="#" class="social-link"><i class="fab fa-telegram-plane" style="color: #0088cc;"></i> Telegram Channel</a>
        <a href="#" class="social-link"><i class="fab fa-tiktok" style="color: #ff0050;"></i> TikTok Community</a>
        <a href="#" class="social-link"><i class="fab fa-instagram" style="color: #e1306c;"></i> Instagram Official</a>
        <a href="#" class="social-link"><i class="fab fa-x-twitter"></i> X / Twitter</a>
    </div>

    <div class="nav">
        <div class="nav-btn active" onclick="nav('p-dash', this)"><i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-btn" onclick="nav('p-robots', this)"><i class="fas fa-robot"></i>Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª</div>
        <div class="nav-btn" onclick="nav('p-lead', this)"><i class="fas fa-trophy"></i>Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</div>
        <div class="nav-btn" onclick="nav('p-info', this)"><i class="fas fa-question-circle"></i>Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</div>
        <div class="nav-btn" onclick="nav('p-social', this)"><i class="fas fa-share-alt"></i>Ø±ÙˆØ§Ø¨Ø·Ù†Ø§</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#050505');

        const params = new URLSearchParams(window.location.search);
        const lang = params.get('lang') || 'ar';
        const balance = parseFloat(params.get('balance') || '0');

        // Ù†ØµÙˆØµ Ø§Ù„Ù„ØºØ§Øª
        const langData = {
            ar: { lv: ["Ù…Ø¨ØªØ¯Ø¦ Ø¨Ø±ÙˆÙ†Ø²ÙŠ", "Ø®Ø¨ÙŠØ± Ø·Ø§Ù‚Ø© âš¡", "Ø­ÙˆØª Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ğŸ³", "Ù…Ù„Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ ğŸ‘‘"] },
            he: { lv: ["××ª×—×™×œ ×‘×¨×•× ×–×”", "××•××—×” ×× ×¨×’×™×” âš¡", "×œ×•×•×™×™×ª×Ÿ ×›×¨×™×™×” ğŸ³", "××œ×š ×”×× ×¨×’×™×” ×”×¢×•×œ××™ ğŸ‘‘"] }
        };

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª
        const robots = [
            { id: 1, n: {ar: "Ø§Ù„Ù…Ù†Ù‚Ø¨ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ", he: "×›×•×¨×” ×‘×¨Ø²Ù„"}, p: 10, pr: 1, s: 10, d: "Ø±ÙˆØ¨ÙˆØªÙƒ Ø§Ù„Ø£ÙˆÙ„ ÙÙŠ Ø§Ù„Ø±Ø­Ù„Ø©ØŒ Ù…ØµÙ…Ù… Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø¨ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ§Ø³ØªÙ‡Ù„Ø§Ùƒ Ù…Ù†Ø®ÙØ¶." },
            { id: 2, n: {ar: "ÙƒØ³Ø§Ø±Ø© Ø§Ù„ÙÙˆÙ„Ø§Ø°", he: "××’×¨×¡×ª ×¤×œ×“×”"}, p: 50, pr: 5, s: 60, d: "Ù‚ÙˆØ© Ù…Ø¶Ø§Ø¹ÙØ© ÙˆØ³Ø¹Ø© ØªØ®Ø²ÙŠÙ† Ø£ÙƒØ¨Ø±ØŒ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£Ù…Ø«Ù„ Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©." },
            { id: 3, n: {ar: "Ù…Ø«Ù‚Ø§Ø¨ Ø§Ù„ØªÙŠØªØ§Ù†ÙŠÙˆÙ…", he: "××§×“×— ×˜×™×˜× ×™×•×"}, p: 200, pr: 25, s: 300, d: "ÙŠØ³ØªØ®Ø¯Ù… ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø«Ù‚Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù†Ø§Ø¯Ø±Ø©." },
            { id: 4, n: {ar: "Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ø§Ù‚Ø©", he: "×§×™×©×•×¨ ×›×•×—"}, p: 1000, pr: 150, s: 2000, d: "Ø±ÙˆØ¨ÙˆØª ØµÙ†Ø§Ø¹ÙŠ Ø¶Ø®Ù… ÙŠØ±Ø¨Ø· Ù…Ø­Ø·Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø© Ø¨Ø¨Ø¹Ø¶Ù‡Ø§ Ù„Ø¥Ù†ØªØ§Ø¬ Ù‡Ø§Ø¦Ù„." },
            { id: 5, n: {ar: "Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„ÙƒÙ…ÙŠ", he: "×× ×•×¢ ×§×•×•× ×˜×™"}, p: 5000, pr: 850, s: 12000, d: "Ø£Ù‚ÙˆÙ‰ Ù…Ø§ ØªÙˆØµÙ„Øª Ø¥Ù„ÙŠÙ‡ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ EnergyVerseØŒ ÙŠØ¹Ù…Ù„ Ø¨Ù…Ø­Ø±Ùƒ ÙƒÙ…ÙŠ Ø®Ø§Ø±Ù‚." }
        ];

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ù„ÙŠÙÙ„
        document.getElementById('v-bal').innerText = balance.toFixed(2);
        let currentLv = langData[lang].lv[0];
        if(balance > 1000) currentLv = langData[lang].lv[1];
        if(balance > 5000) currentLv = langData[lang].lv[2];
        if(balance > 20000) currentLv = langData[lang].lv[3];
        document.getElementById('v-lvl').innerText = "LEVEL: " + currentLv;

        // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª
        const robotList = document.getElementById('robots-list');
        robots.forEach(r => {
            robotList.innerHTML += `
                <div class="robot-card">
                    <p class="robot-name">${r.n[lang]}</p>
                    <p class="robot-desc">${r.d}</p>
                    <div class="robot-meta">
                        <div class="meta-box">Ø§Ù„Ø³Ø¹Ø±: ${r.p}$</div>
                        <div class="meta-box">Ø¥Ù†ØªØ§Ø¬: ${r.pr}/Ø³</div>
                        <div class="meta-box">Ø³Ø¹Ø©: ${r.s}</div>
                        <div class="meta-box">ÙƒÙØ§Ø¡Ø©: Ø¹Ø§Ù„ÙŠØ©</div>
                    </div>
                    <button class="buy-btn" onclick="buyRobot(${r.id})">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù† ğŸ’°</button>
                </div>`;
        });

        // Ø§Ù„Ù…Ù„Ø§Ø­Ø©
        function nav(pId, btn) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(pId).classList.add('active');
            btn.classList.add('active');
            document.getElementById('clickSound').play();
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø·Ø§Ù‚Ø©
        let p = 40;
        setInterval(() => { if(p < 100) { p += 0.1; document.getElementById('v-fill').style.height = p + '%'; document.getElementById('v-perc').innerText = Math.floor(p); } }, 2000);

        function collectAction() {
            tg.HapticFeedback.notificationOccurred('success');
            tg.showAlert(lang === 'ar' ? "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¬Ù…Ø¹ Ù„Ù„Ø¨ÙˆØª! âš¡" : "×‘×§×©×ª ×”××™×¡×•×£ × ×©×œ×—×” ×œ×‘×•×˜! âš¡");
        }

        function buyRobot(id) {
            tg.showConfirm(lang === 'ar' ? "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ØºØ¨ØªÙƒ ÙÙŠ Ø´Ø±Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø±ÙˆØ¨ÙˆØªØŸ" : "×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×§× ×•×ª ××ª ×”×¨×•×‘×•×˜ ×”×–×”?");
        }

        function renderLead(type) {
            const body = document.getElementById('lead-body');
            body.innerHTML = "";
            for(let i=1; i<=10; i++) {
                body.innerHTML += `<tr><td class="rank-num">#${i}</td><td>User_${i}</td><td style="color:var(--gold)">$${(10000/i).toFixed(0)}</td></tr>`;
            }
        }
        renderLead('global');

        if(lang === 'he') document.body.style.direction = 'ltr';
    </script>
</body>
</html>
